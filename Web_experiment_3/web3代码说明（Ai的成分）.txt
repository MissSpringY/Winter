一、关键样式(随便选几个也可以ai自己生成)
1. 页面居中布局样式
.page {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}
说明：使用 Flexbox 布局实现计算器在页面中垂直和水平居中，align-items: center 垂直居中，justify-content: center 水平居中。

2. 计算器容器样式
.calculator {
  width: min(100%, 320px);
  background-color: #ffffff;
  border-radius: 18px;
  box-shadow: 0 12px 24px rgba(31, 31, 31, 0.1);
  padding: 1.5rem;
  display: grid;
  gap: 1rem;
}
说明：

width: min(100%, 320px)：响应式宽度设置，最大宽度320px，小屏幕自适应
border-radius: 18px：圆角边框，使计算器外观更柔和
box-shadow：阴影效果，增加立体感
display: grid 和 gap: 1rem：使用网格布局，设置间距
3. 输入框样式（关键：直角边框）
.calculator__display {
  width: 100%;
  border: none;
  border-radius: 0;
  background-color: #e8e9eb;
  padding: 1rem;
  font-size: 2rem;
  text-align: right;
  color: #222831;
  letter-spacing: 0.1rem;
}
说明：

border-radius: 0：直角边框，这是关键样式，与按钮的圆角形成对比
background-color: #e8e9eb：灰色背景，与白色按钮区域区分
text-align: right：文本右对齐，符合计算器显示习惯
font-size: 2rem：大字号，便于阅读
letter-spacing: 0.1rem：增加字符间距，提高可读性
4. 按钮网格布局样式
.calculator__keys {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-auto-rows: 60px;
  gap: 0.75rem;
}
说明：

grid-template-columns: repeat(4, 1fr)：创建4列等宽网格布局
grid-auto-rows: 60px：每行高度固定为60px
gap: 0.75rem：按钮之间的间距
5. 普通按钮基础样式（关键：统一灰色）
.key {
  border: none;
  border-radius: 8px;
  font-size: 1.2rem;
  cursor: pointer;
  background-color: #dfe1e5;
  color: #1f1f1f;
  transition: background 0.2s ease, transform 0.1s ease;
}
说明：

border-radius: 8px：轻微圆角，不是完全直角
background-color: #dfe1e5：统一灰色背景，这是关键样式，所有普通按钮使用相同颜色
color: #1f1f1f：黑色文字，这是关键样式
transition：过渡动画效果，使交互更流畅
6. 按钮悬停效果样式
.key:hover {
  background-color: #cfd3d9;
}
说明：鼠标悬停时背景色变深，提供视觉反馈。

7. 按钮点击效果样式
.key:active {
  transform: scale(0.97);
}
说明：点击时按钮缩小到97%，提供按下反馈效果。

8. 运算符和功能按钮样式
.key--operator,
.key--function {
  background-color: #dfe1e5;
  color: #1f1f1f;
}
说明：运算符按钮（+、-、*、/）和功能按钮（C、←）与普通数字按钮使用相同的灰色背景和黑色文字。

9. 等号按钮特殊样式（关键：绿色背景，跨2行）
.key--equals {
  background-color: #2bb673;
  color: #ffffff;
  grid-row: span 2;
}
.key--equals:hover {
  background-color: #25a366;
}
说明：

background-color: #2bb673：绿色背景，这是关键样式，与其他按钮形成对比
color: #ffffff：白色文字，这是关键样式
grid-row: span 2：纵向跨越2行，这是关键布局样式
:hover：悬停时颜色变深
10. 数字0按钮样式（关键：跨2列）
.key--zero {
  grid-column: span 2;
}
说明：grid-column: span 2 使数字0按钮横向跨越2列，这是关键布局样式。

11. 响应式设计样式
@media (max-width: 480px) {
  .calculator {
    padding: 1.25rem;
    border-radius: 16px;
  }
  .calculator__display {
    font-size: 1.6rem;
    padding: 0.8rem;
  }
  .calculator__keys {
    grid-auto-rows: 56px;
  }
}
说明：在小屏幕设备（宽度≤480px）时，调整内边距、字号和按钮高度，确保移动端显示效果良好。




二、所有特色实现效果及说明(随便选几个也可以ai自己生成)
1. DOM 事件委托机制
实现方式：

keys.addEventListener('click', (event) => {
  const button = event.target.closest('button');
  if (!button) return;
  const { action, value } = button.dataset;
  // 根据 data-action 执行相应操作
});
说明：

事件冒泡利用：只在 calculator__keys 容器上绑定一个点击事件监听器，利用事件冒泡机制捕获所有按钮的点击事件
按钮识别：通过 event.target.closest('button') 方法识别具体被点击的按钮
数据驱动：使用 HTML5 的 data-action 和 data-value 属性标识按钮功能，避免为每个按钮单独绑定事件监听器
代码优势：单一事件监听器处理所有按钮交互，代码简洁，性能更好，易于维护
2. 表达式实时显示功能
实现方式：

const state = {
  expression: '0',  // 存储完整表达式
  currentNumber: '0',
  operator: null,
  shouldResetDisplay: false,
};
function inputDigit(digit) {
  state.expression += digit;
  updateDisplay();
}
说明：

完整表达式展示：输入 89 然后按 + 再输入 9 时，显示屏会完整显示 89+9，而不是只显示当前输入的数字 9
表达式累积：支持连续输入多个运算符和数字，如 12+3*4-5，整个表达式都会实时显示
运算符替换：如果连续输入运算符（如先按 + 再按 -），会自动替换前一个运算符，显示为 89- 而不是 89+-
用户体验：用户可以清楚看到完整的计算过程，避免混淆
3. 状态管理机制
实现方式：

const state = {
  expression: '0',           // 完整计算表达式
  currentNumber: '0',        // 当前正在输入的数字
  operator: null,            // 当前运算符
  shouldResetDisplay: false // 计算后是否重置显示
};
说明：

表达式状态：expression 变量存储完整的计算表达式字符串，用于显示和计算
当前数字跟踪：currentNumber 跟踪当前正在输入的数字，用于处理小数点输入等操作
运算符管理：operator 记录当前选择的运算符
重置标志：shouldResetDisplay 控制计算完成后，下次输入是否重置表达式，实现连续计算功能
集中管理：所有状态集中在一个对象中，便于管理和调试
4. 四则运算计算功能
实现方式：

function evaluateExpression(expr) {
  const sanitized = expr.replace(/[^0-9+\-*/.]/g, '');
  const result = Function('"use strict"; return (' + sanitized + ')')();
  return result;
}
function handleEquals() {
  const result = evaluateExpression(state.expression);
  state.expression = formatResult(result);
}
说明：

四则运算支持：支持加法（+）、减法（-）、乘法（*）、除法（/）四种基本运算
表达式求值：使用 Function 构造函数安全地计算表达式，先清理非法字符确保安全
运算符优先级：JavaScript 原生支持运算符优先级，如 2+3*4 会正确计算为 14 而不是 20
连续运算：支持复杂表达式如 12+3*4-5/2，一次性计算完整表达式
5. 小数运算功能
实现方式：

function inputDecimal() {
  if (!state.currentNumber.includes('.')) {
    state.expression += '.';
    state.currentNumber += '.';
  }
}
说明：

小数点输入：支持小数点输入，可以输入小数如 3.14
重复检查：通过检查 currentNumber 中是否已包含小数点，防止同一数字输入多个小数点
浮点数计算：支持浮点数的四则运算，如 3.5 + 2.7 = 6.2
6. 精度处理功能
实现方式：

function formatResult(result) {
  const rounded = Math.round(result * 1e10) / 1e10;
  return rounded.toString();
}
说明：

精度控制：计算结果保留10位小数精度，避免浮点数运算误差（如 0.1 + 0.2 的结果）
四舍五入：使用 Math.round() 进行四舍五入处理
显示优化：将数字转换为字符串，去掉不必要的尾随零
7. 错误处理功能
实现方式：

function handleEquals() {
  const result = evaluateExpression(state.expression);
  if (!Number.isFinite(result)) {
    state.expression = '错误';
    // 重置状态
    return;
  }
  state.expression = formatResult(result);
}
说明：

除零检测：当除数为0时，Number.isFinite() 检测到结果为 Infinity，显示”错误”提示
无效表达式：如果表达式无法计算，也会显示”错误”
状态重置：显示错误后，重置相关状态，避免程序崩溃
用户友好：错误提示清晰，用户可以按 C 键清零重新开始
8. 清零功能（C 按钮）
实现方式：

function resetCalculator() {
  state.expression = '0';
  state.currentNumber = '0';
  state.operator = null;
  state.shouldResetDisplay = false;
}
说明：

完全重置：清空所有状态，包括表达式、当前数字、运算符等
显示重置：显示屏恢复为初始状态 0
一键清零：用户可以随时按 C 键清除所有内容，重新开始计算
9. 回退功能（← 按钮）
实现方式：

function handleBackspace() {
  if (state.expression.length <= 1) {
    state.expression = '0';
  } else {
    state.expression = state.expression.slice(0, -1);
    // 更新当前数字状态
  }
}
说明：

逐字符删除：每次点击删除表达式最后一个字符
支持删除运算符：可以删除运算符，如 89+ 回退后变为 89
支持删除数字：可以删除数字，如 89+9 回退后变为 89+
边界处理：当表达式只剩一个字符时，删除后显示 0
状态同步：删除字符后同步更新 currentNumber 状态
10. 连续计算功能
实现方式：

function handleEquals() {
  // 计算并显示结果
  state.expression = formatResult(result);
  state.shouldResetDisplay = true;  // 设置重置标志
}
function inputDigit(digit) {
  if (state.shouldResetDisplay) {
    state.expression = digit;  // 重置为新数字
    state.shouldResetDisplay = false;
  }
}
说明：

结果保留：计算完成后，结果显示在屏幕上
自动重置：设置 shouldResetDisplay 标志，下次输入数字时自动清除结果
继续计算：用户可以在结果基础上继续输入运算符和新数字进行连续计算
灵活操作：用户可以按 C 清零，也可以直接开始新的计算
11. 运算符替换功能
实现方式：

function handleOperator(operatorSymbol) {
  const lastChar = state.expression[state.expression.length - 1];
  if (['+', '-', '*', '/'].includes(lastChar)) {
    state.expression = state.expression.slice(0, -1) + operatorSymbol;
  } else {
    state.expression += operatorSymbol;
  }
}
说明：

智能替换：如果表达式末尾已经是运算符，新输入的运算符会替换它
避免错误：防止出现 89+- 这样的无效表达式
用户体验：用户可以快速修正运算符选择，无需删除再重新输入
12. IIFE 封装机制
实现方式：

(() => {
  // 所有代码在这里
})();
说明：

立即执行函数表达式（IIFE）：使用立即执行函数包裹所有代码
避免全局污染：所有变量和函数都在函数作用域内，不会污染全局命名空间
代码隔离：防止与其他脚本的变量名冲突
现代最佳实践：符合现代 JavaScript 开发规范
13. HTML、CSS、JavaScript 完全分离
说明：

结构分离：HTML 文件只包含页面结构，使用语义化标签
样式分离：CSS 文件只包含样式规则，使用 BEM 命名规范
逻辑分离：JavaScript 文件只包含交互逻辑，使用事件委托和函数式编程
维护便利：三个文件职责清晰，便于团队协作和代码维护
符合规范：遵循前端开发的最佳实践和代码规范